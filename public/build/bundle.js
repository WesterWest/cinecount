var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function o(t){t.forEach(n)}function r(t){return"function"==typeof t}function u(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function c(t,n){t.appendChild(n)}function s(t,n,e){t.insertBefore(n,e||null)}function l(t){t.parentNode.removeChild(t)}function a(t){return document.createElement(t)}function i(t){return document.createTextNode(t)}function d(){return i(" ")}function f(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function p(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function m(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function h(t,n){t.value=null==n?"":n}let g;function $(t){g=t}const b=[],y=[],x=[],k=[],v=Promise.resolve();let _=!1;function w(t){x.push(t)}let C=!1;const M=new Set;function E(){if(!C){C=!0;do{for(let t=0;t<b.length;t+=1){const n=b[t];$(n),j(n.$$)}for($(null),b.length=0;y.length;)y.pop()();for(let t=0;t<x.length;t+=1){const n=x[t];M.has(n)||(M.add(n),n())}x.length=0}while(b.length);for(;k.length;)k.pop()();_=!1,C=!1,M.clear()}}function j(t){if(null!==t.fragment){t.update(),o(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(w)}}const A=new Set;function S(t,n){-1===t.$$.dirty[0]&&(b.push(t),_||(_=!0,v.then(E)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function N(u,c,s,a,i,d,f=[-1]){const p=g;$(u);const m=u.$$={fragment:null,ctx:null,props:d,update:t,not_equal:i,bound:e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(p?p.$$.context:c.context||[]),callbacks:e(),dirty:f,skip_bound:!1};let h=!1;if(m.ctx=s?s(u,c.props||{},((t,n,...e)=>{const o=e.length?e[0]:n;return m.ctx&&i(m.ctx[t],m.ctx[t]=o)&&(!m.skip_bound&&m.bound[t]&&m.bound[t](o),h&&S(u,t)),n})):[],m.update(),h=!0,o(m.before_update),m.fragment=!!a&&a(m.ctx),c.target){if(c.hydrate){const t=function(t){return Array.from(t.childNodes)}(c.target);m.fragment&&m.fragment.l(t),t.forEach(l)}else m.fragment&&m.fragment.c();c.intro&&((b=u.$$.fragment)&&b.i&&(A.delete(b),b.i(y))),function(t,e,u,c){const{fragment:s,on_mount:l,on_destroy:a,after_update:i}=t.$$;s&&s.m(e,u),c||w((()=>{const e=l.map(n).filter(r);a?a.push(...e):o(e),t.$$.on_mount=[]})),i.forEach(w)}(u,c.target,c.anchor,c.customElement),E()}var b,y;$(p)}function D(t){let n,e,r,u,c;return{c(){n=a("input"),e=d(),r=a("button"),r.textContent="Start the count"},m(o,l){s(o,n,l),h(n,t[7]),s(o,e,l),s(o,r,l),u||(c=[f(n,"input",t[19]),f(r,"click",t[13])],u=!0)},p(t,e){128&e&&n.value!==t[7]&&h(n,t[7])},d(t){t&&l(n),t&&l(e),t&&l(r),u=!1,o(c)}}}function L(t){let n,e,o,r,u,f,h,g,$,b,y,x,k,v,_,w,C,M,E,j,A,S,N,D,L,O,q,P,T,U,G,W,B,H=Math.round(100*t[4])/100+"",I=Math.round(100*t[9])/100+"",K=Math.round(100*t[10])/100+"",R=Math.round(100*t[11])/100+"";return{c(){n=a("p"),n.textContent=`Number of shots: ${t[12].length}`,e=d(),o=a("p"),r=i("Number of segments: "),u=i(t[5]),f=d(),h=a("p"),g=i("Number of suprasegments: "),$=i(t[6]),b=d(),y=a("p"),x=i("Length of the film: "),k=i(H),v=i(" seconds"),_=d(),w=a("p"),C=i("Average shot length: "),M=i(I),E=i("\n\t\t\t\t\tseconds"),j=d(),A=a("p"),S=i("Max shot length: "),N=i(K),D=i(" seconds"),L=d(),O=a("p"),q=i("Min shot length: "),P=i(R),T=i(" seconds"),U=d(),G=a("a"),W=i("Download CSV"),p(G,"href",t[8]),p(G,"download",B=t[7]+".csv")},m(t,l){s(t,n,l),s(t,e,l),s(t,o,l),c(o,r),c(o,u),s(t,f,l),s(t,h,l),c(h,g),c(h,$),s(t,b,l),s(t,y,l),c(y,x),c(y,k),c(y,v),s(t,_,l),s(t,w,l),c(w,C),c(w,M),c(w,E),s(t,j,l),s(t,A,l),c(A,S),c(A,N),c(A,D),s(t,L,l),s(t,O,l),c(O,q),c(O,P),c(O,T),s(t,U,l),s(t,G,l),c(G,W)},p(t,n){32&n&&m(u,t[5]),64&n&&m($,t[6]),16&n&&H!==(H=Math.round(100*t[4])/100+"")&&m(k,H),512&n&&I!==(I=Math.round(100*t[9])/100+"")&&m(M,I),1024&n&&K!==(K=Math.round(100*t[10])/100+"")&&m(N,K),2048&n&&R!==(R=Math.round(100*t[11])/100+"")&&m(P,R),256&n&&p(G,"href",t[8]),128&n&&B!==(B=t[7]+".csv")&&p(G,"download",B)},d(t){t&&l(n),t&&l(e),t&&l(o),t&&l(f),t&&l(h),t&&l(b),t&&l(y),t&&l(_),t&&l(w),t&&l(j),t&&l(A),t&&l(L),t&&l(O),t&&l(U),t&&l(G)}}}function O(n){let e,r,u,c,i,p,m,h,g;return{c(){e=a("button"),e.textContent="Add shot",r=d(),u=a("button"),u.textContent="Add segment",c=d(),i=a("button"),i.textContent="Add suprasegment",p=d(),m=a("button"),m.textContent="Stop the count"},m(t,o){s(t,e,o),s(t,r,o),s(t,u,o),s(t,c,o),s(t,i,o),s(t,p,o),s(t,m,o),h||(g=[f(e,"click",n[14]),f(u,"click",n[15]),f(i,"click",n[16]),f(m,"click",n[17])],h=!0)},p:t,d(t){t&&l(e),t&&l(r),t&&l(u),t&&l(c),t&&l(i),t&&l(p),t&&l(m),h=!1,o(g)}}}function q(t){let n,e,o;return{c(){n=a("br"),e=a("img"),e.src!==(o=t[1])&&p(e,"src",o),p(e,"width","500px"),p(e,"alt","Pan Kokeš je momentálně nedostupný")},m(t,o){s(t,n,o),s(t,e,o)},p(t,n){2&n&&e.src!==(o=t[1])&&p(e,"src",o)},d(t){t&&l(n),t&&l(e)}}}function P(n){let e,o,r,u,h,g,$,b,y,x,k,v,_,w,C,M;function E(t,n){return t[2]&&!t[3]?O:t[3]?L:D}let j=E(n),A=j(n),S=n[0]&&q(n);return{c(){e=a("main"),o=a("div"),r=a("div"),u=a("h1"),u.textContent="Welcome to Cinecount",h=d(),g=a("h2"),$=i("Counting for a film named: "),b=i(n[7]),y=d(),x=a("div"),A.c(),k=d(),v=a("div"),S&&S.c(),_=d(),w=a("footer"),w.innerHTML='<blockquote style="align: center;text-align: left;color: #768390"><p>Shortcuts:</p> \n\t\t<p>S or SPACE - add shot</p> \n\t\t<p>G - add segment</p> \n\t\t<p>U - add suprasegment</p> \n\t\t<p>Enter - start counting</p> \n\t\t<p>Escape - end counting</p></blockquote>',p(u,"class","svelte-1ugmp3y"),p(g,"class","svelte-1ugmp3y"),p(o,"class","container svelte-1ugmp3y"),p(e,"class","svelte-1ugmp3y"),p(w,"class","svelte-1ugmp3y")},m(t,l){s(t,e,l),c(e,o),c(o,r),c(r,u),c(r,h),c(r,g),c(g,$),c(g,b),c(o,y),c(o,x),A.m(x,null),c(o,k),c(o,v),S&&S.m(v,null),s(t,_,l),s(t,w,l),C||(M=f(window,"keydown",n[18]),C=!0)},p(t,[n]){128&n&&m(b,t[7]),j===(j=E(t))&&A?A.p(t,n):(A.d(1),A=j(t),A&&(A.c(),A.m(x,null))),t[0]?S?S.p(t,n):(S=q(t),S.c(),S.m(v,null)):S&&(S.d(1),S=null)},i:t,o:t,d(t){t&&l(e),A.d(),S&&S.d(),t&&l(_),t&&l(w),C=!1,M()}}}function T(t,n,e){let o,r,u,c,s,l,a,i=!1,d=["images/kokes-1.jpg","images/kokes-2.jpg"],f=!1,p=!1,m=[{suprasegmentCount:0,segmentCount:0,time:0,length:0}],h=1,g=1,$=()=>{e(2,f=!0),r=Date.now()/1e3},b=()=>{let t=Date.now()/1e3-r,n=t-m[m.length-1].time;m.push({suprasegmentCount:g,segmentCount:h,time:t,length:n})},y=()=>{e(5,h++,h),b()},x=()=>{e(6,g++,g),y()},k=()=>{e(4,u=Date.now()/1e3-r),_(),e(3,p=!0)},v="Women on the run",_=()=>{m.shift(),m.map((t=>t.time));let t=m.map((t=>t.length));e(9,s=t.reduce(((t,n)=>t+n))/t.length),e(10,l=Math.max(...t)),e(11,a=Math.min(...t));let n="data:text/csv;charset=utf-8,suprasegment,segment,time,length"+m.map((t=>Object.values(t).join(","))).join("\n")+"\nfinal,count,avg shot len: "+s+",max shot len: "+l+",min shot len: "+a+"\n";e(8,c=encodeURI(n))};return[i,o,f,p,u,h,g,v,c,s,l,a,m,$,b,y,x,k,t=>{if("Enter"!==key||f){if("D"===key)e(0,i=!i),e(1,o=d[Math.floor(Math.random()*d.length)]);else if(f&&!p){let n=t.key;console.log(n),"s"===n||"S"===n||" "===n?(console.log("sko"),b()):"g"===n||"G"===n?(console.log("gěčko"),y()):"u"===n||"U"===n?(console.log("učko"),x()):"Escape"!==n&&"Esc"!==n||(f&&!p?k():f||$())}}else $()},function(){v=this.value,e(7,v)}]}return new class extends class{$destroy(){!function(t,n){const e=t.$$;null!==e.fragment&&(o(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}{constructor(t){super(),N(this,t,T,P,u,{})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
